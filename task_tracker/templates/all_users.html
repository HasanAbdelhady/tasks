{% extends 'base.html' %}

{% block title %}Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙØ±Ø§Ø¯{% endblock %}

{% block header_buttons %}
<form action="{% url 'admin_dashboard' %}" method="get" style="margin: 0;">
    <button type="submit">ğŸ”™</button>
</form>
{% endblock %}

{% block content %}
<h1>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙØ±Ø§Ø¯ ÙˆØ§Ù„Ù…Ù‡Ø§Ù…</h1>

{% for task_data in tasks %}
<h2>Ø§Ù„Ù…Ù‡Ù…Ø©: {{ task_data.task.name }}</h2>
<table>
    <thead>
        <tr>
            <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
            <th>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙØ±Ø¹ÙŠØ© Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</th>
            <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙØ±Ø¹ÙŠØ©</th>
        </tr>
    </thead>
    <tbody>
        {% for assignee, data in task_data.assignees.items %}
        <tr>
            <td>{{ assignee }}</td>
            <td>{{ data.completed }}</td>
            <td>{{ data.total }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endfor %}

<!-- Daily Progress History -->
<section class="daily-progress">
    <h2>Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ</h2>
    {% for date, progress_list in daily_progress.items %}
    <div class="daily-progress-card">
        <h3>{{ date }}</h3>
        <table>
            <thead>
                <tr>
                    <th>Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
                    <th>Ø§Ù„Ù…Ù‡Ù…Ø©</th>
                    <th>Ø§Ù„ØªÙ‚Ø¯Ù…</th>
                </tr>
            </thead>
            <tbody>
                {% for progress in progress_list %}
                <tr>
                    <td>{{ progress.user }}</td>
                    <td>{{ progress.task }}</td>
                    <td>{{ progress.completed }}/{{ progress.total }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endfor %}
</section>

<style>
.daily-progress-card {
    margin: 20px 0;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #f8f9fa;
}

.daily-progress-card h3 {
    margin-top: 0;
    color: #666;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
}
</style>
{% endblock %}
